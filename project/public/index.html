<html>
    <body>
        <header>
            <title>Carte des caméras</title>
            <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
            integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
            crossorigin=""/>
            <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
            <style>
                #map {
                    height: 700px;
                }
            </style>
        </header>
        <main>
            <h1>Carte de caméras :</h1>
            <div id="map"></div>
        </main>
    </body>
    <script>
        const map = L.map('map').setView([51.505, -0.09], 13);
        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        fetch("/api/cameras/paris")
            .then(res => res.json())
            .then(cameras => {
                for ({lat,lon} of cameras)
                    L.marker([lat, lon]).addTo(map)
            })
    </script>
</html>